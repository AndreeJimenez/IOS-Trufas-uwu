import 'package:flutter/material.dart';
import 'package:adobe_xd/pinned.dart';
import 'package:trufas_artesanales/cart_page.dart';
import 'package:trufas_artesanales/home_page.dart';
import 'package:adobe_xd/page_link.dart';
import './cart_page.dart';
import 'package:flutter_svg/flutter_svg.dart';

class CatalogPage extends StatelessWidget {
  final title = new TextStyle(
      fontSize: 22, color: Colors.white, backgroundColor: Colors.pink[200]);
  final subtitle = new TextStyle(
      fontSize: 18, color: Colors.white70, backgroundColor: Colors.pink[100]);

  @override
  Widget build(BuildContext context) {
    return Scaffold(
        body: Stack(children: <Widget>[
      _lista(),
      Pinned.fromPins(
        Pin(start: 0.0, end: 0.0),
        Pin(size: 82.0, end: 0.0),
        child: Stack(
          children: <Widget>[
            Pinned.fromPins(
              Pin(start: 0.0, end: 0.0),
              Pin(start: 0.0, end: 0.0),
              child: Container(
                decoration: BoxDecoration(
                  color: const Color(0xff373737),
                ),
              ),
            ),
            Pinned.fromPins(
              Pin(size: 1.0, start: 63.0),
              Pin(size: 1.0, middle: 0.4938),
              child: Container(
                decoration: BoxDecoration(
                  color: const Color(0xffffffff),
                  border:
                      Border.all(width: 1.0, color: const Color(0xff707070)),
                ),
              ),
            ),
            Pinned.fromPins(
              Pin(size: 48.0, start: 39.0),
              Pin(size: 45.6, middle: 0.4863),
              child: PageLink(
                links: [
                  PageLinkInfo(
                    ease: Curves.linear,
                    duration: 0.3,
                    pageBuilder: () => HomePage(),
                  ),
                ],
                child: Stack(
                  children: <Widget>[
                    Pinned.fromPins(
                      Pin(start: 0.0, end: 0.0),
                      Pin(start: 0.0, end: 0.0),
                      child: Stack(
                        children: <Widget>[
                          Pinned.fromPins(
                            Pin(start: 0.0, end: 0.0),
                            Pin(start: 0.0, end: 0.0),
                            child: SvgPicture.string(
                              _svg_37on2f,
                              allowDrawingOutsideViewBox: true,
                              fit: BoxFit.fill,
                            ),
                          ),
                        ],
                      ),
                    ),
                  ],
                ),
              ),
            ),
            Pinned.fromPins(
              Pin(size: 49.1, end: 46.5),
              Pin(size: 46.2, middle: 0.4773),
              child: PageLink(
                links: [
                  PageLinkInfo(
                    ease: Curves.linear,
                    duration: 0.3,
                    pageBuilder: () => CartPage(),
                  ),
                ],
                child: Stack(
                  children: <Widget>[
                    Pinned.fromPins(
                      Pin(start: 0.0, end: 0.0),
                      Pin(start: 0.0, end: 0.0),
                      child: SvgPicture.string(
                        _svg_xak1kg,
                        allowDrawingOutsideViewBox: true,
                        fit: BoxFit.fill,
                      ),
                    ),
                  ],
                ),
              ),
            ),
            Pinned.fromPins(
              Pin(size: 58.2, middle: 0.4962),
              Pin(size: 41.8, middle: 0.5357),
              child: PageLink(
                links: [
                  PageLinkInfo(
                    ease: Curves.linear,
                    duration: 0.3,
                    pageBuilder: () => CatalogPage(),
                  ),
                ],
                child: Stack(
                  children: <Widget>[
                    Pinned.fromPins(
                      Pin(start: 0.0, end: 0.0),
                      Pin(start: 0.0, end: 0.0),
                      child: Stack(
                        children: <Widget>[
                          Pinned.fromPins(
                            Pin(start: 0.0, end: 0.0),
                            Pin(start: 0.0, end: 0.0),
                            child: SvgPicture.string(
                              _svg_kx6hh5,
                              allowDrawingOutsideViewBox: true,
                              fit: BoxFit.fill,
                            ),
                          ),
                        ],
                      ),
                    ),
                  ],
                ),
              ),
            ),
          ],
        ),
      )
    ]));
  }

  Widget _cardt2(String direccion) {
    final card = Container(
        child: Column(children: <Widget>[
        FadeInImage(
          image: NetworkImage(direccion),
          placeholder: AssetImage('assets/jar-loading.gif'),
          fadeInDuration: Duration(milliseconds: 500),
          height: 220.0,
          fit: BoxFit.cover,
        ),
    ]));

    return Container(
      child: ClipRRect(
        borderRadius: BorderRadius.circular(20.0),
        child: card,
      ),
      decoration: BoxDecoration(
          borderRadius: BorderRadius.circular(20.0),
          boxShadow: <BoxShadow>[
            BoxShadow(
                color: Colors.black26,
                blurRadius: 10,
                spreadRadius: 5,
                offset: Offset(2.0, 10.0))
          ],
          color: Colors.white),
    );
  }

  Widget _lista() {
    //FutureBuilder
    return FutureBuilder(
      future: _getList(),
      initialData: [],
      builder: (context, AsyncSnapshot<List<dynamic>> snapshot) {
        //print('builder');
        print(snapshot.data);
        return ListView(
          children: _listaImgs(snapshot.data, context),
        );
      },
    );
  }

  Future<List> _getList() {
    return Future.value([
      'https://external-content.duckduckgo.com/iu/?u=https%3A%2F%2Fwww.codigococina.com%2Fwp-content%2Fuploads%2F2015%2F12%2Ftrufas_chocolate_negro.jpg&f=1&nofb=1',
      'https://external-content.duckduckgo.com/iu/?u=https%3A%2F%2Fusa.calculadoras.com.mx%2Fwp-content%2Fuploads%2F2016%2F11%2Ftrufas-de-chocolate-blanco-y-coco.jpg&f=1&nofb=1',
      'https://external-content.duckduckgo.com/iu/?u=https%3A%2F%2Fmir-s3-cdn-cf.behance.net%2Fproject_modules%2Fmax_1200%2F226fc019376403.562d95b4ba2d1.jpg&f=1&nofb=1'
    ]);
  }

  List<Widget> _listaImgs(List<dynamic> data, BuildContext context) {
    final List<Widget> opciones = [];

    for (int i = 0; i < data.length; i++) {
      opciones..add(_cardt2(data[i]))..add(Divider());
    }
    return opciones;
  }
}

const String _svg_37on2f =
    '<svg viewBox="0.0 0.0 48.0 45.6" ><path transform="translate(0.0, -12.68)" d="M 47.19279861450195 32.94454193115234 L 43.13793182373047 29.24985504150391 L 43.13793182373047 16.99862670898438 C 43.13793182373047 16.2191162109375 42.50597763061523 15.58706760406494 41.72637176513672 15.58706760406494 L 31.96583557128906 15.58706760406494 C 31.18632507324219 15.58706760406494 30.55427551269531 16.21902084350586 30.55427551269531 16.99862670898438 L 30.55427551269531 17.78367042541504 L 25.65727806091309 13.32156276702881 C 24.7120189666748 12.46011543273926 23.28658485412598 12.46020984649658 22.34170341491699 13.3214693069458 L 0.8061789870262146 32.94463348388672 C 0.04907281696796417 33.63461685180664 -0.2011396437883377 34.69771575927734 0.1687886267900467 35.65290832519531 C 0.5388105511665344 36.60810470581055 1.439725756645203 37.22524261474609 2.464106559753418 37.22524261474609 L 5.903614044189453 37.22524261474609 L 5.903614044189453 56.88610076904297 C 5.903614044189453 57.66561508178711 6.535566806793213 58.29766082763672 7.315172672271729 58.29766082763672 L 19.11922073364258 58.29766082763672 C 19.89873313903809 58.29766082763672 20.5307788848877 57.66570281982422 20.5307788848877 56.88610076904297 L 20.5307788848877 44.94864654541016 L 27.46819686889648 44.94864654541016 L 27.46819686889648 56.88619232177734 C 27.46819686889648 57.66570663452148 28.10014915466309 58.29775238037109 28.87975692749023 58.29775238037109 L 40.6833381652832 58.29775238037109 C 41.46284866333008 58.29775238037109 42.09489440917969 57.66580200195313 42.09479904174805 56.88619232177734 L 42.09479904174805 37.22533798217773 L 45.53505325317383 37.22533798217773 C 46.55934524536133 37.22533798217773 47.46035385131836 36.60810470581055 47.83037948608398 35.65300369262695 C 48.2002067565918 34.69771575927734 47.95009231567383 33.63461685180664 47.19279861450195 32.94454193115234 Z M 40.6833381652832 34.40222549438477 C 39.90382385253906 34.40222549438477 39.27177810668945 35.03417587280273 39.27177810668945 35.81378173828125 L 39.27177810668945 55.47463226318359 L 30.29140853881836 55.47463226318359 L 30.29140853881836 43.53709030151367 C 30.29140853881836 42.75757598876953 29.65935897827148 42.12553024291992 28.87984848022461 42.12553024291992 L 19.11922073364258 42.12553024291992 C 18.33970832824707 42.12553024291992 17.70766067504883 42.75748062133789 17.70766067504883 43.53709030151367 L 17.70766067504883 55.47463226318359 L 8.72663688659668 55.47463226318359 L 8.72663688659668 35.81378173828125 C 8.72663688659668 35.03427124023438 8.094683647155762 34.4022216796875 7.315078258514404 34.4022216796875 L 3.39802074432373 34.4022216796875 L 23.9996280670166 15.63018989562988 L 31.01532554626465 22.02293586730957 C 31.42856597900391 22.39942932128906 32.02508544921875 22.49645614624023 32.53629302978516 22.27080535888672 C 33.04759216308594 22.04487228393555 33.37748718261719 21.53844833374023 33.37748718261719 20.97952461242676 L 33.37748718261719 18.41018676757813 L 40.31500625610352 18.41018676757813 L 40.31500625610352 29.8732738494873 C 40.31500625610352 30.27048301696777 40.48225021362305 30.64912986755371 40.77586364746094 30.91668510437012 L 44.60105133056641 34.40222549438477 L 40.6833381652832 34.40222549438477 Z" fill="#c0b283" stroke="none" stroke-width="1" stroke-miterlimit="4" stroke-linecap="butt" /></svg>';
const String _svg_xak1kg =
    '<svg viewBox="0.0 0.0 49.1 46.2" ><path transform="translate(0.0, -13.15)" d="M 48.8524169921875 21.96823692321777 C 48.57113647460938 21.56512069702148 48.1185417175293 21.31595039367676 47.62691116333008 21.29494857788086 L 17.14729881286621 19.98114204406738 C 16.27278327941895 19.94287490844727 15.5419864654541 20.61803245544434 15.50459957122803 21.48847961425781 C 15.46743488311768 22.35859680175781 16.1414909362793 23.09379005432129 17.0118293762207 23.13117790222168 L 45.42791748046875 24.35613822937012 L 39.84071731567383 41.78860855102539 L 14.97700881958008 41.78860855102539 L 10.48501396179199 17.32999420166016 C 10.38626956939697 16.79393577575684 10.01823234558105 16.34672737121582 9.510654449462891 16.1475887298584 L 2.153530836105347 13.25727844238281 C 1.342682480812073 12.93982315063477 0.4277015328407288 13.33809852600098 0.1092561036348343 14.14795875549316 C -0.2086395770311356 14.95825576782227 0.1895272582769394 15.87378692626953 0.9999359250068665 16.19223403930664 L 7.541593074798584 18.76211929321289 L 12.112868309021 43.6500244140625 C 12.25064945220947 44.39818954467773 12.90271472930908 44.94161987304688 13.66375160217285 44.94161987304688 L 14.42203712463379 44.94161987304688 L 12.69049167633057 49.75128555297852 C 12.54556274414063 50.1541862487793 12.6052713394165 50.60161209106445 12.85191249847412 50.95161437988281 C 13.09822368621826 51.30172729492188 13.49881076812744 51.51000213623047 13.92644691467285 51.51000213623047 L 15.14096069335938 51.51000213623047 C 14.38839149475098 52.34756088256836 13.92644691467285 53.45035934448242 13.92644691467285 54.66310882568359 C 13.92644691467285 57.27115249633789 16.04857444763184 59.39273071289063 18.65606689453125 59.39273071289063 C 21.26355743408203 59.39273071289063 23.38568496704102 57.27115249633789 23.38568496704102 54.66310882568359 C 23.38568496704102 53.45046234130859 22.92374038696289 52.34756088256836 22.17127990722656 51.51000213623047 L 32.4830436706543 51.51000213623047 C 31.73014450073242 52.34756088256836 31.26831245422363 53.45035934448242 31.26831245422363 54.66310882568359 C 31.26831245422363 57.27115249633789 33.38988494873047 59.39273071289063 35.9979248046875 59.39273071289063 C 38.6060791015625 59.39273071289063 40.72754669189453 57.27115249633789 40.72754669189453 54.66310882568359 C 40.72754669189453 53.45046234130859 40.26571273803711 52.34756088256836 39.51336669921875 51.51000213623047 L 40.9903564453125 51.51000213623047 C 41.71609497070313 51.51000213623047 42.30416107177734 50.92181396484375 42.30416107177734 50.19629669189453 C 42.30416107177734 49.47055816650391 41.71598434448242 48.88249206542969 40.9903564453125 48.88249206542969 L 15.7957763671875 48.88249206542969 L 17.21448516845703 44.94118118286133 L 40.99024200439453 44.94118118286133 C 41.67584609985352 44.94118118286133 42.28250503540039 44.49825668334961 42.49131393432617 43.84597396850586 L 49.06024932861328 23.35077285766602 C 49.21111679077148 22.88299560546875 49.13369750976563 22.3715705871582 48.8524169921875 21.96823692321777 Z M 18.65617561340332 56.76566696166992 C 17.49686241149902 56.76566696166992 16.55406188964844 55.82297515869141 16.55406188964844 54.66365814208984 C 16.55406188964844 53.50435256958008 17.49686241149902 52.56155014038086 18.65617561340332 52.56155014038086 C 19.81549072265625 52.56155014038086 20.75818061828613 53.50435256958008 20.75818061828613 54.66365814208984 C 20.75818061828613 55.82297515869141 19.81549072265625 56.76566696166992 18.65617561340332 56.76566696166992 Z M 35.9979248046875 56.76566696166992 C 34.83861541748047 56.76566696166992 33.89592742919922 55.82297515869141 33.89592742919922 54.66365814208984 C 33.89592742919922 53.50435256958008 34.83861541748047 52.56155014038086 35.9979248046875 52.56155014038086 C 37.15724182128906 52.56155014038086 38.09993362426758 53.50435256958008 38.09993362426758 54.66365814208984 C 38.09993362426758 55.82297515869141 37.15724182128906 56.76566696166992 35.9979248046875 56.76566696166992 Z" fill="#c0b283" stroke="none" stroke-width="1" stroke-miterlimit="4" stroke-linecap="butt" /></svg>';
const String _svg_kx6hh5 =
    '<svg viewBox="0.0 0.0 58.2 41.8" ><path transform="translate(0.0, -58.3)" d="M 57.06307220458984 61.77750015258789 C 57.05926513671875 61.77750015258789 57.05546188354492 61.77750015258789 57.05179595947266 61.77750015258789 L 57.05179595947266 61.77750015258789 L 53.2280387878418 61.77750015258789 L 53.2280387878418 60.46907806396484 C 53.24862670898438 59.95120620727539 52.91361999511719 59.48578643798828 52.41591262817383 59.34112548828125 C 49.76127624511719 58.64546203613281 47.02769088745117 58.2966423034668 44.28338241577148 58.30340957641602 C 39.77157592773438 58.30340957641602 33.62424087524414 59.31856536865234 29.0785961151123 63.94317245483398 C 24.5667896270752 59.2734489440918 18.37433624267578 58.30340957641602 13.87380886077881 58.30340957641602 C 11.12950134277344 58.2966423034668 8.39591121673584 58.64546203613281 5.74127721786499 59.34112548828125 C 5.243568897247314 59.48578643798828 4.908567428588867 59.95120620727539 4.92915153503418 60.46907806396484 L 4.92915153503418 61.76622009277344 L 1.127951622009277 61.76622009277344 C 0.5050403475761414 61.76622009277344 0 62.27125930786133 0 62.89417266845703 L 0 98.92095184326172 C 0 99.54385375976563 0.5050403475761414 100.0488967895508 1.127951622009277 100.0488967895508 C 1.321677207946777 100.04833984375 1.512019157409668 99.99786376953125 1.680647969245911 99.90226745605469 C 1.793443083763123 99.84587097167969 13.07295894622803 93.67597198486328 28.81916236877441 97.6463623046875 L 28.98835563659668 97.6463623046875 L 29.08987236022949 97.6463623046875 C 29.17982482910156 97.65721893310547 29.2706241607666 97.65721893310547 29.36058044433594 97.6463623046875 C 45.15190124511719 93.64213562011719 56.43141937255859 99.80075073242188 56.49909210205078 99.90226745605469 C 56.84805297851563 100.1037445068359 57.27808380126953 100.1037445068359 57.62704467773438 99.90226745605469 C 57.9738883972168 99.70205688476563 58.18862533569336 99.33279418945313 58.19102096557617 98.93222045898438 L 58.19102096557617 62.90545272827148 C 58.19102478027344 62.28253936767578 57.68612670898438 61.77750015258789 57.06307220458984 61.77750015258789 Z M 2.255903244018555 97.12751007080078 L 2.255903244018555 64.03340911865234 L 4.951708316802979 64.03340911865234 L 4.951708316802979 92.32242584228516 C 4.944658279418945 92.94534301757813 5.443918228149414 93.45602416992188 6.066829204559326 93.46307373046875 C 6.127738475799561 93.46377563476563 6.188647747039795 93.45954895019531 6.248852729797363 93.45037841796875 C 8.582303047180176 93.09409332275391 10.93817043304443 92.90557098388672 13.29855155944824 92.88640594482422 C 16.56820106506348 92.82971954345703 19.82417488098145 93.32151794433594 22.93125915527344 94.34146118164063 C 15.91469383239746 93.49295806884766 8.797599792480469 94.45200347900391 2.255903244018555 97.12751007080078 Z M 13.29854965209961 90.64178466796875 C 11.24694633483887 90.64643096923828 9.19774055480957 90.77826690673828 7.162492752075195 91.03656768798828 L 7.162492752075195 61.36015701293945 C 9.358614921569824 60.87090682983398 11.60126399993896 60.62120819091797 13.85124588012695 60.6157112121582 C 18.06978607177734 60.6157112121582 23.8900146484375 61.58575057983398 27.92808151245117 66.14267730712891 L 27.9619197845459 94.23995208740234 C 25.61577987670898 92.7059326171875 21.03629684448242 90.64178466796875 13.29854965209961 90.64178466796875 Z M 30.21782493591309 66.14266967773438 C 34.25589370727539 61.63086700439453 40.07612228393555 60.6157112121582 44.29466247558594 60.6157112121582 C 46.54450225830078 60.62233734130859 48.78715133666992 60.87189865112305 50.98341369628906 61.36015701293945 L 50.98341369628906 91.03656768798828 C 48.95958709716797 90.77586364746094 46.92165756225586 90.64022827148438 44.88119888305664 90.63050842285156 C 37.18856811523438 90.63050842285156 32.59780502319336 92.69465637207031 30.21782493591309 94.22866821289063 L 30.21782493591309 66.14266967773438 Z M 55.92384338378906 97.12751007080078 C 49.36819076538086 94.44466400146484 42.2347412109375 93.48548889160156 35.20337295532227 94.34146118164063 C 38.32511901855469 93.31784820556641 41.59660339355469 92.82592010498047 44.88119888305664 92.88640594482422 C 47.25638198852539 92.899658203125 49.62747573852539 93.08435821533203 51.97601318359375 93.43910217285156 C 52.59187698364258 93.53257751464844 53.16698837280273 93.10903930664063 53.26046752929688 92.49317169189453 C 53.26963043212891 92.43296813964844 53.27386093139648 92.37206268310547 53.27315521240234 92.31114959716797 L 53.27315521240234 64.03340911865234 L 55.96895980834961 64.03340911865234 L 55.92384338378906 97.12751007080078 Z" fill="#c0b283" stroke="none" stroke-width="1" stroke-miterlimit="4" stroke-linecap="butt" /></svg>';
